(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{103:function(t,e,r){},104:function(t,e,r){"use strict";r.r(e);var n,a,c=r(0),o=r.n(c),u=r(24),s=r.n(u),i=r(16),b=r(4),p=r(44),l=r.n(p),f=r(1),h=function(){return Object(f.jsx)(l.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:5e3})},j=Object(c.lazy)((function(){return r.e(6).then(r.bind(null,122))})),d=Object(c.lazy)((function(){return r.e(5).then(r.bind(null,124))})),O=Object(c.lazy)((function(){return r.e(4).then(r.bind(null,125))})),v=Object(c.lazy)((function(){return r.e(3).then(r.bind(null,123))})),g=function(){return Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(h,{}),children:Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{exact:!0,path:"/",children:Object(f.jsx)(j,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/register",children:Object(f.jsx)(d,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/login",children:Object(f.jsx)(O,{})}),Object(f.jsx)(b.a,{exact:!0,path:"/contacts",children:Object(f.jsx)(v,{})})]})})},x=r(18),k=r(8),m=r(32),y=r(47),S=r.n(y),w=r(14),P=r(33),E=r(15),N=r(6),C=Object(k.c)([],(n={},Object(w.a)(n,E.a.addToPhonebookSuccess,(function(t,e){var r=e.payload,n=Object(P.a)({},r);t.push(n)})),Object(w.a)(n,E.a.getPhonebookContactsSuccess,(function(t,e){return e.payload})),Object(w.a)(n,E.a.removeFromPhonebookSuccess,(function(t,e){var r=e.payload,n=t.findIndex((function(t){return t.id===r}));t.splice(n,1)})),n)),U=Object(k.c)("",Object(w.a)({},E.a.filterPhonebook,(function(t,e){return e.payload}))),F=Object(k.c)("",(a={},Object(w.a)(a,E.a.getPhonebookContactsError,(function(t,e){return e.payload})),Object(w.a)(a,E.a.addToPhonebookError,(function(t,e){return e.payload})),Object(w.a)(a,E.a.removeFromPhonebookError,(function(t,e){return e.payload})),Object(w.a)(a,E.a.getPhonebookContactsRequest,(function(){return""})),Object(w.a)(a,E.a.addToPhonebookRequest,(function(){return""})),Object(w.a)(a,E.a.removeFromPhonebookRequest,(function(){return""})),a)),L=Object(N.b)({items:C,filter:U,error:F}),_=r(7),R={user:{name:null,email:null},token:null,error:null},z=Object(N.b)({user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.user,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;return r===_.a.currentUserSuccess?n:t},token:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.token,e=arguments.length>1?arguments[1]:void 0,r=e.type,n=e.payload;switch(r){case _.a.registerSuccess:case _.a.loginSuccess:return n;case _.a.logOutSuccess:return null;default:return t}}}),A={key:"auth",storage:S.a,whitelist:["token"]},q=Object(k.a)({reducer:{contacts:L,auth:Object(m.a)(A,z)}}),T=Object(m.b)(q),H=r(48),M=r(49),B=r.n(M),I=function(){return Object(f.jsx)("nav",{children:Object(f.jsx)(i.b,{exact:!0,to:"/",className:B.a.NavLink,children:"Home"})})},J=r(50),K=r.n(J),Y=function(t){return t.token},D=function(t){return t.user.name},G=r(21),Q=r.n(G),V=r.p+"static/media/default-avatar.859f63c2.png",W=r(34),X=function(){var t=Object(x.b)(),e=Object(x.c)(D),r=V;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:Q.a.Container,children:[Object(f.jsx)("img",{src:r,alt:"#",className:Q.a.Avatar}),Object(f.jsxs)("span",{className:Q.a.Name,children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, ",e]}),Object(f.jsx)("button",{type:"button",onClick:function(){return t(W.a.logout())},children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(f.jsx)("nav",{children:Object(f.jsx)(i.b,{exact:!0,to:"/contacts",className:Q.a.NavLink,children:"Contacts"})})]})},Z=r(31),$=r.n(Z),tt=function(){return Object(f.jsxs)("nav",{children:[Object(f.jsx)(i.b,{exact:!0,to:"/register",className:$.a.NavLink,children:"Register"}),Object(f.jsx)(i.b,{exact:!0,to:"/login",className:$.a.NavLink,children:"Login"})]})},et=function(){var t=Object(x.c)(Y);return Object(f.jsxs)("header",{className:K.a.Header,children:[Object(f.jsx)(I,{}),t?Object(f.jsx)(X,{}):Object(f.jsx)(tt,{})]})};r(103);var rt=function(){return Object(f.jsx)(x.a,{store:q,children:Object(f.jsx)(H.a,{loading:null,persistor:T,children:Object(f.jsx)(i.a,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(et,{}),Object(f.jsx)(g,{})]})})})})};s.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(rt,{})}),document.getElementById("root"))},15:function(t,e,r){"use strict";var n=r(8),a=Object(n.b)("phonebook/get"),c=Object(n.b)("phonebook/getSuccess"),o=Object(n.b)("phonebook/geterror"),u=Object(n.b)("phonebook/add"),s=Object(n.b)("phonebook/addSuccess"),i=Object(n.b)("phonebook/addError"),b=Object(n.b)("phonebook/remove"),p=Object(n.b)("phonebook/removeSuccess"),l=Object(n.b)("phonebook/removeError"),f=Object(n.b)("phonebok/filter");e.a={addToPhonebookRequest:u,addToPhonebookSuccess:s,addToPhonebookError:i,removeFromPhonebookRequest:b,removeFromPhonebookSuccess:p,removeFromPhonebookError:l,getPhonebookContactsRequest:a,getPhonebookContactsSuccess:c,getPhonebookContactsError:o,filterPhonebook:f}},17:function(t,e,r){"use strict";var n=r(2),a=r.n(n),c=r(9),o=r(26),u=r.n(o),s=u.a.create({baseURL:"https://connections-api.herokuapp.com"}),i={set:function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){u.a.defaults.headers.common.Authorization=""}},b=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.post("/users/signup",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.post("/users/login",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.post("/users/logout",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get("/users/current");case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get("/contacts");case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.post("/contacts",e);case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.delete("contacts/".concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a={token:i,getAllContacts:h,addNewContact:j,removeContact:d,userSignup:b,userLogin:p,userLogout:l,getCurrentUser:f}},21:function(t,e,r){t.exports={Container:"UserMenu_Container__2f4HK",Avatar:"UserMenu_Avatar__38zOu",Name:"UserMenu_Name__1deHt"}},31:function(t,e,r){},34:function(t,e,r){"use strict";var n=r(2),a=r.n(n),c=r(9),o=r(17),u=r(7),s=function(){return{type:u.a.loginStart}},i=function(t){return{type:u.a.loginSuccess,payload:t}},b=function(t){return{type:u.a.loginError,payload:t}},p=function(){return{type:u.a.logOutStart}},l=function(t){return{type:u.a.logOutSuccess,payload:t}},f=function(t){return{type:u.a.logOutError,payload:t}},h=function(){return{type:u.a.registerStart}},j=function(t){return{type:u.a.registerSuccess,payload:t}},d=function(t){return{type:u.a.registerError,payload:t}},O=r(30),v=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var t=Object(c.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(h()),t.prev=1,t.next=4,o.a.userSignup(e);case 4:n=t.sent,o.a.token.set(n.token),r(j(n)),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),r(d(t.t0)),O.Notify.failure("User is already exist"),t.abrupt("return",t.t0.response.status);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var t=Object(c.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(s()),t.prev=1,t.next=4,o.a.userLogin(e);case 4:n=t.sent,o.a.token.set(n.token),r(i(n)),t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),r(b(t.t0)),O.Notify.failure("You enter a wrong login or/and password"),t.abrupt("return",t.t0.response.status);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var t=Object(c.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(p()),t.prev=1,t.next=4,o.a.userLogout(e);case 4:n=t.sent,o.a.token.unset(),r(l(n)),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),r(f(t.t0)),t.abrupt("return",t.t0.response.status);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k={register:v,login:g,logout:x};e.a=k},49:function(t,e,r){},50:function(t,e,r){},7:function(t,e,r){"use strict";e.a={loginStart:"auth/loginStart",loginSuccess:"auth/loginSuccess",loginError:"auth/loginError",logOutStart:"auth/logOutStart",logOutSuccess:"auth/logOutSuccess",logOutError:"auth/logOutError",registerStart:"auth/registerStart",registerSuccess:"auth/registerSuccess",registerError:"auth/registerError",currentUserStart:"auth/currentUserStart",currentUserSuccess:"auth/currentUserSuccess",currentUserError:"auth/currentUserError"}}},[[104,1,2]]]);
//# sourceMappingURL=main.43714b4f.chunk.js.map